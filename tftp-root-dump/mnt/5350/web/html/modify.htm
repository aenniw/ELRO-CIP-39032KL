<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title></title>
<link href="sign.css" rel="stylesheet" type="text/css" />
<style type="text/css">
<!--
body {
	margin-left: 0px;
	margin-top: 0px;
	margin-right: 0px;
	margin-bottom: 0px;
}
-->
</style>
<script language="javascript" src="public.js"></script>
<script src="get_userparams.cgi"></script>

<script>
if (top.alias == '')
	top.alias = top.str_anonymous;
parent.document.title = top.str_device + '(' + top.alias + ')';

//去掉前后空格
function trimStr(value) 
{
    return value.replace(/(^\s*)|(\s*$)/g, "");
}

function save_userinfo() 
{
    var tmp_new_user = document.getElementById("txt_new_user").value;
    var tmp_new_pwd = document.getElementById("txt_new_pwd").value;
    var tmp_con_pwd = document.getElementById("txt_confirm_pwd").value;

    tmp_new_user = trimStr(tmp_new_user);
    tmp_new_pwd = trimStr(tmp_new_pwd);
    tmp_con_pwd = trimStr(tmp_con_pwd);

    //judge user empty
    if (tmp_new_user == "") 
    {
        document.getElementById("txt_new_user").value = "";
        alert(top.str_user_empty);
        return; 
    }

    //judge pwd empty
    if (tmp_new_pwd == "") 
    {
        document.getElementById("txt_new_pwd").value = "";
        alert(top.str_empty_pwd);
        return;
    }
    if (tmp_con_pwd == "") 
    {
        document.getElementById("txt_confirm_pwd").value = "";
        alert(top.str_empty_pwd);
        return;
    }

    //compare new and confirm pwd
    if (tmp_new_pwd != tmp_con_pwd) 
    {
        alert(top.str_input_pwderr);
        return;
    }

    //save
    if (confirm(top.str_save_confire)) 
    {
         url  = "set_userparams.cgi?user1=" + tmp_new_user + "&pwd1=" + tmp_new_pwd + "&pri1=" + userparams1_pri;
         url += "&user2=" + userparams2_name + "&pwd2=" + userparams2_pwd + "&pri2=" + userparams2_pri;
         url += "&user3=" + userparams3_name + "&pwd3=" + userparams3_pwd + "&pri3=" + userparams3_pri;
         url += "&user4=" + userparams4_name + "&pwd4=" + userparams4_pwd + "&pri4=" + userparams4_pri;
         url += "&user5=" + userparams5_name + "&pwd5=" + userparams5_pwd + "&pri5=" + userparams5_pri;
         url += "&user6=" + userparams6_name + "&pwd6=" + userparams6_pwd + "&pri6=" + userparams6_pri;
         url += "&user7=" + userparams7_name + "&pwd7=" + userparams7_pwd + "&pri7=" + userparams7_pri;
         url += "&user8=" + userparams8_name + "&pwd8=" + userparams8_pwd + "&pri8=" + userparams8_pri;
         url += "&user=" + top.user + "&pwd=" + top.pwd + "&next_url=modifyreboot.htm";

         //   
         top.reboot_user = tmp_new_user;
         top.reboot_pwd = tmp_new_pwd;

         location = url;
    }
}
</script>
</head>
<body>
<table width="0" border="0" align="center" cellpadding="0" cellspacing="0">
  <tr>
    <td width="500" height="100">&nbsp;</td>
  </tr>
  
  <tr>
    <td><table width="500" border="0" align="center" cellpadding="0" cellspacing="0" bgcolor="#e4f7db" class="t1">
      <tr>
        <td height="22" colspan="2">
            <div class="line" id="line"><strong class="mid04"><script>document.write(top.str_modify_title);</script></strong></div>
        </td>
      </tr>
      
      <tr>
        <td height="28">&nbsp;</td>
      </tr>
      
      <tr>
        <td height="28" colspan="2" class="f1"><script>document.write(top.str_modify_userpwd);</script></td>
      </tr>
      
      <tr>
        <td height="10">&nbsp;</td>
      </tr>
      
      <tr>
        <td colspan="2" align="center"><table border="0" cellpadding="0" cellspacing="0">
           <tr height="25">
             <td class="f6"><script>document.write(top.str_new_user);</script>&nbsp;&nbsp;</td>
             <td><input type="text" id="txt_new_user" style="width:150px" maxlength="12" onKeyUp="this.value=this.value.replace(/[^a-zA-Z0-9]/gi,'')" onBlur="this.value=this.value.replace(/[^a-zA-Z0-9]/gi,'')" /></td>
           </tr>
           
           <tr height="25">
             <td class="f6"><script>document.write(top.str_new_pwd);</script>&nbsp;&nbsp;</td>
             <td><input type="password" id="txt_new_pwd" style="width:150px" maxlength="12" /></td>
           </tr>
           
           <tr height="25">
             <td class="f6"><script>document.write(top.str_confirm_pwd);</script>&nbsp;&nbsp;</td>
             <td><input type="password" id="txt_confirm_pwd" style="width:150px" maxlength="12" /></td>
           </tr>
        </table></td>
      </tr>
      
      
      <tr>
        <td height="10">&nbsp;</td>
      </tr>
      
	  <tr>
	     <td height="10" colspan="2" class="f1"><a id="serverpush_link" href="javascript:save_userinfo();" class="f18"><script>document.write(top.str_save);</script></a></td>
	  </tr>
      
      <tr>
        <td height="5" colspan="2">&nbsp;</td>
      </tr>
      
    </table></td>
  </tr>
</table>
</body>
</html>

	  